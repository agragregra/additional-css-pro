define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(t,s,e){"use strict";function n(t){t=(new Date).toLocaleString("en-us",t);return 1==t.length?"0"+t:t}var i=t("./lib/dom"),r=t("./lib/oop"),o=t("./lib/event_emitter").EventEmitter,p=t("./lib/lang"),u=t("./range").Range,l=t("./range_list").RangeList,a=t("./keyboard/hash_handler").HashHandler,c=t("./tokenizer").Tokenizer,h=t("./clipboard"),d={CURRENT_WORD:function(t){return t.session.getTextRange(t.session.getWordRange())},SELECTION:function(t,e,n){t=t.session.getTextRange();return n?t.replace(/\n\r?([ \t]*\S)/g,"\n"+n+"$1"):t},CURRENT_LINE:function(t){return t.session.getLine(t.getCursorPosition().row)},PREV_LINE:function(t){return t.session.getLine(t.getCursorPosition().row-1)},LINE_INDEX:function(t){return t.getCursorPosition().row},LINE_NUMBER:function(t){return t.getCursorPosition().row+1},SOFT_TABS:function(t){return t.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(t){return t.session.getTabSize()},CLIPBOARD:function(t){return h.getText&&h.getText()},FILENAME:function(t){return/[^/\\]*$/.exec(this.FILEPATH(t))[0]},FILENAME_BASE:function(t){return/[^/\\]*$/.exec(this.FILEPATH(t))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(t){return this.FILEPATH(t).replace(/[^/\\]*$/,"")},FILEPATH:function(t){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(t){t=t.session.$mode||{};return t.blockComment&&t.blockComment.start||""},BLOCK_COMMENT_END:function(t){t=t.session.$mode||{};return t.blockComment&&t.blockComment.end||""},LINE_COMMENT:function(t){return(t.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:n.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:n.bind(null,{year:"2-digit"}),CURRENT_MONTH:n.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:n.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:n.bind(null,{month:"short"}),CURRENT_DATE:n.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:n.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:n.bind(null,{weekday:"short"}),CURRENT_HOUR:n.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:n.bind(null,{minute:"2-digit"}),CURRENT_SECOND:n.bind(null,{second:"2-digit"})},g=(d.SELECTED_TEXT=d.SELECTION,f.prototype.getTokenizer=function(){return f.$tokenizer||this.createTokenizer()},f.prototype.createTokenizer=function(){function i(t){return t=t.substr(1),/^\d+$/.test(t)?[{tabstopId:parseInt(t,10)}]:[{text:t}]}function t(t){return"(?:[^\\\\"+t+"]|\\\\.)"}var e={regex:"/("+t("/")+"+)/",onMatch:function(t,e,n){n=n[0];return n.fmtString=!0,n.guard=t.slice(1,-1),n.flag=""},next:"formatString"};return f.$tokenizer=new c({start:[{regex:/\\./,onMatch:function(t,e,n){var i=t[1];return[t="}"==i&&n.length||-1!="`$\\".indexOf(i)?i:t]}},{regex:/}/,onMatch:function(t,e,n){return[n.length?n.shift():t]}},{regex:/\$(?:\d+|\w+)/,onMatch:i},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,e,n){t=i(t.substr(1));return n.unshift(t[0]),t},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(t,e,n){t=t.slice(1,-1).replace(/\\[,|\\]|,/g,function(t){return 2==t.length?t[1]:"\0"}).split("\0").map(function(t){return{value:t}});return[(n[0].choices=t)[0]]},next:"start"},e,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(t,e,n){return n.length&&n[0].expectElse?(n[0].expectElse=!1,n[0].ifEnd={elseEnd:n[0]},[n[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(t,e,n){var i=t[1];return"}"==i&&n.length||-1!="`$\\".indexOf(i)?t=i:"n"==i?t="\n":"t"==i?t="\t":-1!="ulULE".indexOf(i)&&(t={changeCase:i,local:"a"<i}),[t]}},{regex:"/\\w*}",onMatch:function(t,e,n){n=n.shift();return n&&(n.flag=t.slice(1,-1)),this.next=n&&n.tabstopId?"start":"",[n||t]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(t,e,n){return[{text:t.slice(1)}]}},{regex:/\${\w+/,onMatch:function(t,e,n){t={text:t.slice(2)};return n.unshift(t),[t]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(t,e,n){n=n.shift();return this.next=n&&n.tabstopId?"start":"",[n||t]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(t,e,n){return n[0].formatFunction=t.slice(2,-1),[n.shift()]},next:"formatString"},e,{regex:/:[\?\-+]?/,onMatch:function(t,e,n){"+"==t[1]&&(n[0].ifEnd=n[0]),"?"==t[1]&&(n[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},f.prototype.tokenizeTmSnippet=function(t,e){return this.getTokenizer().getLineTokens(t,e).tokens.map(function(t){return t.value||t})},f.prototype.getVariableValue=function(t,e,n){if(/^\d+$/.test(e))return(this.variables.__||{})[e]||"";if(/^[A-Z]\d+$/.test(e))return(this.variables[e[0]+"__"]||{})[e.substr(1)]||"";if(e=e.replace(/^TM_/,""),!this.variables.hasOwnProperty(e))return"";var i=this.variables[e];return null==(i="function"==typeof i?this.variables[e](t,e,n):i)?"":i},f.prototype.tmStrFormat=function(t,e,s){if(!e.fmt)return t;var n=e.flag||"",i=e.guard,i=new RegExp(i,n.replace(/[^gim]/g,"")),a="string"==typeof e.fmt?this.tokenizeTmSnippet(e.fmt,"formatString"):e.fmt,c=this;return t.replace(i,function(){for(var t=c.variables.__,e=(c.variables.__=[].slice.call(arguments),c.resolveVariables(a,s)),n="E",i=0;i<e.length;i++){var r,o=e[i];"object"==typeof o?(e[i]="",o.changeCase&&o.local?(r=e[i+1])&&"string"==typeof r&&("u"==o.changeCase?e[i]=r[0].toUpperCase():e[i]=r[0].toLowerCase(),e[i+1]=r.substr(1)):o.changeCase&&(n=o.changeCase)):"U"==n?e[i]=o.toUpperCase():"L"==n&&(e[i]=o.toLowerCase())}return c.variables.__=t,e.join("")})},f.prototype.tmFormatFunction=function(t,e,n){return"upcase"==e.formatFunction?t.toUpperCase():"downcase"==e.formatFunction?t.toLowerCase():t},f.prototype.resolveVariables=function(e,t){function n(t){t=e.indexOf(t,s+1);-1!=t&&(s=t)}for(var i=[],r="",o=!0,s=0;s<e.length;s++){var a,c=e[s];"string"==typeof c?(i.push(c),"\n"==c?(o=!0,r=""):o&&(r=/^\t*/.exec(c)[0],o=/\S/.test(c))):c&&(o=!1,c.fmtString&&(-1==(a=e.indexOf(c,s+1))&&(a=e.length),c.fmt=e.slice(s+1,a),s=a),c.text?(a=this.getVariableValue(t,c.text,r)+"",c.fmtString&&(a=this.tmStrFormat(a,c,t)),(a=c.formatFunction?this.tmFormatFunction(a,c,t):a)&&!c.ifEnd?(i.push(a),n(c)):!a&&c.ifEnd&&n(c.ifEnd)):c.elseEnd?n(c.elseEnd):null==c.tabstopId&&null==c.changeCase||i.push(c))}return i},f.prototype.getDisplayTextForSnippet=function(t,e){return m.call(this,t,e).text},f.prototype.insertSnippetForSelection=function(t,e,n){var e=m.call(this,t,e,n=void 0===n?{}:n),n=t.getSelectionRange(),i=t.session.replace(n,e.text),r=new b(t),t=t.inVirtualSelectionMode&&t.selection.index;r.addTabstops(e.tabstops,n.start,i,t)},f.prototype.insertSnippet=function(t,e,n){void 0===n&&(n={});var i=this;if(t.inVirtualSelectionMode)return i.insertSnippetForSelection(t,e,n);t.forEachSelection(function(){i.insertSnippetForSelection(t,e,n)},null,{keepOrder:!0}),t.tabstopManager&&t.tabstopManager.tabNext()},f.prototype.$getScope=function(t){var e,n=t.session.$mode.$id||"";return"html"!==(n=n.split("/").pop())&&"php"!==n||("php"!==n||t.session.$mode.inlinePhp||(n="html"),e=t.getCursorPosition(),(t="object"==typeof(t=t.session.getState(e.row))?t[0]:t).substring&&("js-"==t.substring(0,3)?n="javascript":"css-"==t.substring(0,4)?n="css":"php-"==t.substring(0,4)&&(n="php"))),n},f.prototype.getActiveScopes=function(t){var t=this.$getScope(t),e=[t],n=this.snippetMap;return n[t]&&n[t].includeScopes&&e.push.apply(e,n[t].includeScopes),e.push("_"),e},f.prototype.expandWithTab=function(t,e){var n=this,i=t.forEachSelection(function(){return n.expandSnippetForSelection(t,e)},null,{keepOrder:!0});return i&&t.tabstopManager&&t.tabstopManager.tabNext(),i},f.prototype.expandSnippetForSelection=function(t,e){var n,i=t.getCursorPosition(),r=t.session.getLine(i.row),o=r.substring(0,i.column),s=r.substr(i.column),a=this.snippetMap;return this.getActiveScopes(t).some(function(t){t=a[t];return!!(n=t?this.findMatchingSnippet(t,o,s):n)},this),!!n&&(e&&e.dryRun||(t.session.doc.removeInLine(i.row,i.column-n.replaceBefore.length,i.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(t,n.content),this.variables.M__=this.variables.T__=null),!0)},f.prototype.findMatchingSnippet=function(t,e,n){for(var i=t.length;i--;){var r=t[i];if((!r.startRe||r.startRe.test(e))&&((!r.endRe||r.endRe.test(n))&&(r.startRe||r.endRe)))return r.matchBefore=r.startRe?r.startRe.exec(e):[""],r.matchAfter=r.endRe?r.endRe.exec(n):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(e)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(n)[0]:"",r}},f.prototype.register=function(e,i){function r(t){return(t=t&&!/^\^?\(.*\)\$?$|^\\b$/.test(t)?"(?:"+t+")":t)||""}function o(t,e,n){return t=r(t),e=r(e),n?(t=e+t)&&"$"!=t[t.length-1]&&(t+="$"):(t+=e)&&"^"!=t[0]&&(t="^"+t),new RegExp(t)}function n(t){t.scope||(t.scope=i||"_"),i=t.scope,s[i]||(s[i]=[],a[i]={});var e,n=a[i];t.name&&((e=n[t.name])&&c.unregister(e),n[t.name]=t),s[i].push(t),t.prefix&&(t.tabTrigger=t.prefix),!t.content&&t.body&&(t.content=Array.isArray(t.body)?t.body.join("\n"):t.body),t.tabTrigger&&!t.trigger&&(!t.guard&&/^\w/.test(t.tabTrigger)&&(t.guard="\\b"),t.trigger=p.escapeRegExp(t.tabTrigger)),(t.trigger||t.guard||t.endTrigger||t.endGuard)&&(t.startRe=o(t.trigger,t.guard,!0),t.triggerRe=new RegExp(t.trigger),t.endRe=o(t.endTrigger,t.endGuard,!0),t.endTriggerRe=new RegExp(t.endTrigger))}var s=this.snippetMap,a=this.snippetNameMap,c=this;e=e||[],Array.isArray(e)?e.forEach(n):Object.keys(e).forEach(function(t){n(e[t])}),this._signal("registerSnippets",{scope:i})},f.prototype.unregister=function(t,n){function e(t){var e=r[t.scope||n];e&&e[t.name]&&(delete e[t.name],0<=(t=(e=i[t.scope||n])&&e.indexOf(t))&&e.splice(t,1))}var i=this.snippetMap,r=this.snippetNameMap;t.content?e(t):Array.isArray(t)&&t.forEach(e)},f.prototype.parseSnippetFile=function(t){t=t.replace(/\r/g,"");for(var e,n,i,r=[],o={},s=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;n=s.exec(t);){if(n[1])try{o=JSON.parse(n[1]),r.push(o)}catch(t){}n[4]?(o.content=n[4].replace(/^\t/gm,""),r.push(o),o={}):(e=n[2],n=n[3],"regex"==e?(o.guard=(i=/\/((?:[^\/\\]|\\.)*)|$/g).exec(n)[1],o.trigger=i.exec(n)[1],o.endTrigger=i.exec(n)[1],o.endGuard=i.exec(n)[1]):"snippet"==e?(o.tabTrigger=n.match(/^\S*/)[0],o.name||(o.name=n)):e&&(o[e]=n))}return r},f.prototype.getSnippetByName=function(e,t){var n,i=this.snippetNameMap;return this.getActiveScopes(t).some(function(t){t=i[t];return!!(n=t?t[e]:n)},this),n},f);function f(){this.snippetMap={},this.snippetNameMap={},this.variables=d}r.implement(g.prototype,o);var m=function(t,e,n){void 0===n&&(n={});var i=t.getCursorPosition(),r=t.session.getLine(i.row),o=t.session.getTabString(),s=r.match(/^\s*/)[0],a=(i.column<s.length&&(s=s.slice(0,i.column)),e=e.replace(/\r/g,""),this.tokenizeTmSnippet(e));a=(a=this.resolveVariables(a,t)).map(function(t){return"\n"!=t||n.excludeExtraIndent?"string"==typeof t?t.replace(/\t/g,o):t:t+s});for(var c=[],p=(a.forEach(function(t,e){var n,i;"object"==typeof t&&(i=t.tabstopId,(n=c[i])||((n=c[i]=[]).index=i,n.value="",n.parents={}),-1===n.indexOf(t)&&(t.choices&&!n.choices&&(n.choices=t.choices),n.push(t),-1!==(i=a.indexOf(t,e+1))&&((t=a.slice(e+1,i)).some(function(t){return"object"==typeof t})&&!n.value?n.value=t:!t.length||n.value&&"string"==typeof n.value||(n.value=t.join("")))))}),c.forEach(function(t){t.length=0}),{}),h=0;h<a.length;h++){var u,l,d,g=a[h];"object"==typeof g&&(d=g.tabstopId,u=c[d],l=a.indexOf(g,h+1),p[d]?p[d]===g&&(delete p[d],Object.keys(p).forEach(function(t){u.parents[t]=!0})):(p[d]=g,"string"!=typeof(d=u.value)?d=function(t){for(var e=[],n=0;n<t.length;n++){if("object"==typeof(i=t[n])){if(p[i.tabstopId])continue;var i=e[t.lastIndexOf(i,n-1)]||{tabstopId:i.tabstopId}}e[n]=i}return e}(d):g.fmt&&(d=this.tmStrFormat(d,g,t)),a.splice.apply(a,[h+1,Math.max(0,l-h)].concat(d,g)),-1===u.indexOf(g)&&u.push(g)))}var f=0,m=0,b="";return a.forEach(function(t){var e;"string"==typeof t?(1<(e=t.split("\n")).length?(m=e[e.length-1].length,f+=e.length-1):m+=t.length,b+=t):t&&(t.start?t.end={row:f,column:m}:t.start={row:f,column:m})}),{text:b,tabstops:c,tokens:a}},b=(x.prototype.attach=function(t){this.$openTabstops=null,this.selectedTabstop=null,this.editor=t,this.session=t.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},x.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},x.prototype.onChange=function(t){for(var e="r"==t.action[0],n=this.selectedTabstop||{},i=n.parents||{},r=this.tabstops.slice(),o=0;o<r.length;o++){var s=r[o],a=s==n||i[s.index];if(s.rangeList.$bias=a?0:1,"remove"==t.action&&s!==n)for(var a=s.parents&&s.parents[n.index],c=(c=s.rangeList.pointIndex(t.start,a))<0?-c-1:c+1,a=(a=s.rangeList.pointIndex(t.end,a))<0?-a-1:a-1,p=s.rangeList.ranges.slice(c,a),h=0;h<p.length;h++)this.removeRange(p[h]);s.rangeList.$onChange(t)}var u=this.session;this.$inChange||!e||1!=u.getLength()||u.getValue()||this.detach()},x.prototype.updateLinkedFields=function(){var t=this.selectedTabstop;if(t&&t.hasLinkedRanges&&t.firstNonLinked){this.$inChange=!0;for(var e=this.session,n=e.getTextRange(t.firstNonLinked),i=0;i<t.length;i++){var r,o=t[i];o.linked&&(r=o.original,r=s.snippetManager.tmStrFormat(n,r,this.editor),e.replace(o,r))}this.$inChange=!1}},x.prototype.onAfterExec=function(t){t.command&&!t.command.readOnly&&this.updateLinkedFields()},x.prototype.onChangeSelection=function(){if(this.editor){for(var t=this.editor.selection.lead,e=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),i=0;i<this.ranges.length;i++)if(!this.ranges[i].linked){var r=this.ranges[i].contains(t.row,t.column),o=n||this.ranges[i].contains(e.row,e.column);if(r&&o)return}this.detach()}},x.prototype.onChangeSession=function(){this.detach()},x.prototype.tabNext=function(t){var e=this.tabstops.length,t=this.index+(t||1),t=Math.min(Math.max(t,1),e);this.selectTabstop(t=t==e?0:t),this.updateTabstopMarkers(),0===t&&this.detach()},x.prototype.selectTabstop=function(t){this.$openTabstops=null;var e=this.tabstops[this.index];if(e&&this.addTabstopMarkers(e),this.index=t,(e=this.tabstops[this.index])&&e.length){t=(this.selectedTabstop=e).firstNonLinked||e;if(e.choices&&(t.cursor=t.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(t);else{var n=this.editor.multiSelect;n.toSingleRange(t);for(var i=0;i<e.length;i++)e.hasLinkedRanges&&e[i].linked||n.addRange(e[i].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},x.prototype.addTabstops=function(t,s,e){var a=this.useLink||!this.editor.getOption("enableMultiselect");this.$openTabstops||(this.$openTabstops=[]),t[0]||(e=u.fromPoints(e,e),v(e.start,s),v(e.end,s),t[0]=[e],t[0].index=0);var c=[this.index+1,0],p=this.ranges,h=this.snippetId=(this.snippetId||0)+1;t.forEach(function(t,e){var n=this.$openTabstops[e]||t;n.snippetId=h;for(var i=0;i<t.length;i++){var r=t[i],o=u.fromPoints(r.start,r.end||r.start);y(o.start,s),y(o.end,s),o.original=r,o.tabstop=n,p.push(o),n!=t?n.unshift(o):n[i]=o,r.fmtString||n.firstNonLinked&&a?(o.linked=!0,n.hasLinkedRanges=!0):n.firstNonLinked||(n.firstNonLinked=o)}n.firstNonLinked||(n.hasLinkedRanges=!1),n===t&&(c.push(n),this.$openTabstops[e]=n),this.addTabstopMarkers(n),n.rangeList=n.rangeList||new l,n.rangeList.$bias=0,n.rangeList.addList(n)},this),2<c.length&&(this.tabstops.length&&c.push(c.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,c))},x.prototype.addTabstopMarkers=function(t){var e=this.session;t.forEach(function(t){t.markerId||(t.markerId=e.addMarker(t,"ace_snippet-marker","text"))})},x.prototype.removeTabstopMarkers=function(t){var e=this.session;t.forEach(function(t){e.removeMarker(t.markerId),t.markerId=null})},x.prototype.updateTabstopMarkers=function(){var e;this.selectedTabstop&&(e=this.selectedTabstop.snippetId,0===this.selectedTabstop.index&&e--,this.tabstops.forEach(function(t){t.snippetId===e?this.addTabstopMarkers(t):this.removeTabstopMarkers(t)},this))},x.prototype.removeRange=function(t){var e=t.tabstop.indexOf(t);-1!=e&&t.tabstop.splice(e,1),-1!=(e=this.ranges.indexOf(t))&&this.ranges.splice(e,1),-1!=(e=t.tabstop.rangeList.ranges.indexOf(t))&&t.tabstop.splice(e,1),this.session.removeMarker(t.markerId),t.tabstop.length||(-1!=(e=this.tabstops.indexOf(t.tabstop))&&this.tabstops.splice(e,1),this.tabstops.length||this.detach())},x);function x(t){if(this.index=0,this.ranges=[],this.tabstops=[],t.tabstopManager)return t.tabstopManager;(t.tabstopManager=this).$onChange=this.onChange.bind(this),this.$onChangeSelection=p.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(t)}b.prototype.keyboardHandler=new a,b.prototype.keyboardHandler.bindKeys({Tab:function(t){s.snippetManager&&s.snippetManager.expandWithTab(t)||(t.tabstopManager.tabNext(1),t.renderer.scrollCursorIntoView())},"Shift-Tab":function(t){t.tabstopManager.tabNext(-1),t.renderer.scrollCursorIntoView()},Esc:function(t){t.tabstopManager.detach()}});var y=function(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row},v=function(t,e){t.row==e.row&&(t.column-=e.column),t.row-=e.row},r=(i.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1),s.snippetManager=new g,t("./editor").Editor);!function(){this.insertSnippet=function(t,e){return s.snippetManager.insertSnippet(this,t,e)},this.expandSnippet=function(t){return s.snippetManager.expandWithTab(this,t)}}.call(r.prototype)}),define("ace/ext/emmet",["require","exports","module","ace/keyboard/hash_handler","ace/editor","ace/snippets","ace/range","ace/config","resources","resources","tabStops","resources","utils","actions"],function(t,o,e){"use strict";var c,n,i,r=t("../keyboard/hash_handler").HashHandler,s=t("../editor").Editor,a=t("../snippets").snippetManager,p=t("../range").Range,h=t("../config"),t=(d.prototype.setupContext=function(t){this.ace=t,this.indentation=t.session.getTabString(),((c=c||window.emmet).resources||c.require("resources")).setVariable("indentation",this.indentation),this.$syntax=null,this.$syntax=this.getSyntax()},d.prototype.getSelectionRange=function(){var t=this.ace.getSelectionRange(),e=this.ace.session.doc;return{start:e.positionToIndex(t.start),end:e.positionToIndex(t.end)}},d.prototype.createSelection=function(t,e){var n=this.ace.session.doc;this.ace.selection.setRange({start:n.indexToPosition(t),end:n.indexToPosition(e)})},d.prototype.getCurrentLineRange=function(){var t=this.ace,e=t.getCursorPosition().row,n=t.session.getLine(e).length,t=t.session.doc.positionToIndex({row:e,column:0});return{start:t,end:t+n}},d.prototype.getCaretPos=function(){var t=this.ace.getCursorPosition();return this.ace.session.doc.positionToIndex(t)},d.prototype.setCaretPos=function(t){t=this.ace.session.doc.indexToPosition(t);this.ace.selection.moveToPosition(t)},d.prototype.getCurrentLine=function(){var t=this.ace.getCursorPosition().row;return this.ace.session.getLine(t)},d.prototype.replaceContent=function(t,e,n,i){null==n&&(n=null==e?this.getContent().length:e);var r=this.ace,o=r.session.doc,e=p.fromPoints(o.indexToPosition(e=null==e?0:e),o.indexToPosition(n));r.session.remove(e),e.end=e.start,t=this.$updateTabstops(t),a.insertSnippet(r,t)},d.prototype.getContent=function(){return this.ace.getValue()},d.prototype.getSyntax=function(){if(this.$syntax)return this.$syntax;var t,e=this.ace.session.$modeId.split("/").pop();return"html"!=e&&"php"!=e||(t=this.ace.getCursorPosition(),(t="string"!=typeof(t=this.ace.session.getState(t.row))?t[0]:t)&&(1<(t=t.split("-")).length?e=t[0]:"php"==e&&(e="html"))),e},d.prototype.getProfileName=function(){var t=c.resources||c.require("resources");switch(this.getSyntax()){case"css":return"css";case"xml":case"xsl":return"xml";case"html":return t.getVariable("profile")||(-1!=this.ace.session.getLines(0,2).join("").search(/<!DOCTYPE[^>]+XHTML/i)?"xhtml":"html");default:var e=this.ace.session.$mode;return e.emmetConfig&&e.emmetConfig.profile||"xhtml"}},d.prototype.prompt=function(t){return prompt(t)},d.prototype.getSelection=function(){return this.ace.session.getTextRange()},d.prototype.getFilePath=function(){return""},d.prototype.$updateTabstops=function(t){var r=0,o=null,s=c.tabStops||c.require("tabStops"),e=(c.resources||c.require("resources")).getVocabulary("user"),a={tabstop:function(t){var e=parseInt(t.group,10),n=0===e,i=(n?e=++r:e+=1e3,t.placeholder),e="${"+e+((i=i&&s.processText(i,a))?":"+i:"")+"}";return n&&(o=[t.start,e]),e},escape:function(t){return"$"==t?"\\$":"\\"==t?"\\\\":t}};return t=s.processText(t,a),e.variables.insert_final_tabstop&&!/\$\{0\}$/.test(t)?t+="${0}":o&&(t=(c.utils?c.utils.common:c.require("utils")).replaceSubstring(t,"${0}",o[0],o[1])),t},d),u={expand_abbreviation:{mac:"ctrl+alt+e",win:"alt+e"},match_pair_outward:{mac:"ctrl+d",win:"ctrl+,"},match_pair_inward:{mac:"ctrl+j",win:"ctrl+shift+0"},matching_pair:{mac:"ctrl+alt+j",win:"alt+j"},next_edit_point:"alt+right",prev_edit_point:"alt+left",toggle_comment:{mac:"command+/",win:"ctrl+/"},split_join_tag:{mac:"shift+command+'",win:"shift+ctrl+`"},remove_tag:{mac:"command+'",win:"shift+ctrl+;"},evaluate_math_expression:{mac:"shift+command+y",win:"shift+ctrl+y"},increment_number_by_1:"ctrl+up",decrement_number_by_1:"ctrl+down",increment_number_by_01:"alt+up",decrement_number_by_01:"alt+down",increment_number_by_10:{mac:"alt+command+up",win:"shift+alt+up"},decrement_number_by_10:{mac:"alt+command+down",win:"shift+alt+down"},select_next_item:{mac:"shift+command+.",win:"shift+ctrl+."},select_previous_item:{mac:"shift+command+,",win:"shift+ctrl+,"},reflect_css_value:{mac:"shift+command+r",win:"shift+ctrl+r"},encode_decode_data_url:{mac:"shift+ctrl+d",win:"ctrl+'"},expand_abbreviation_with_tab:"Tab",wrap_with_abbreviation:{mac:"shift+ctrl+a",win:"shift+ctrl+a"}},l=new t;function d(){}for(i in o.commands=new r,o.runEmmetCommand=function e(n){if("expand_abbreviation_with_tab"==this.action){if(!n.selection.isEmpty())return!1;var i=n.selection.lead,i=n.session.getTokenAt(i.row,i.column);if(i&&/\btag\b/.test(i.type))return!1}try{l.setupContext(n);var t=c.actions||c.require("actions");if("wrap_with_abbreviation"==this.action)return setTimeout(function(){t.run("wrap_with_abbreviation",l)},0);var r=t.run(this.action,l)}catch(t){if(!c)return i=o.load(e.bind(this,n)),"expand_abbreviation_with_tab"!=this.action&&i;n._signal("changeStatus","string"==typeof t?t:t.message),h.warn(t),r=!1}return r},u)o.commands.addCommand({name:"emmet:"+i,action:i,bindKey:u[i],exec:o.runEmmetCommand,multiSelectAction:"forEach"});o.updateCommands=function(t,e){e?t.keyBinding.addKeyboardHandler(o.commands):t.keyBinding.removeKeyboardHandler(o.commands)},o.isSupportedMode=function(t){if(!t)return!1;if(t.emmetConfig)return!0;t=t.$id||t;return/css|less|scss|sass|stylus|html|php|twig|ejs|handlebars/.test(t)},o.isAvailable=function(t,e){if(/(evaluate_math_expression|expand_abbreviation)$/.test(e))return!0;var e=t.session.$mode,n=o.isSupportedMode(e);if(n&&e.$modes)try{l.setupContext(t),/js|php/.test(l.getSyntax())&&(n=!1)}catch(t){}return n};function g(t,e){var n;e&&(n=o.isSupportedMode(e.session.$mode),(n=!1===t.enableEmmet?!1:n)&&o.load(),o.updateCommands(e,n))}o.load=function(t){return"string"!=typeof n?(h.warn("script for emmet-core is not loaded"),!1):(h.loadModule(n,function(){n=null,t&&t()}),!0)},o.AceEmmetEditor=t,h.defineOptions(s.prototype,"editor",{enableEmmet:{set:function(t){this[t?"on":"removeListener"]("changeMode",g),g({enableEmmet:!!t},this)},value:!0}}),o.setCore=function(t){"string"==typeof t?n=t:c=t}}),window.require(["ace/ext/emmet"],function(t){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=t)});